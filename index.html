<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Design Process Wizard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/uswds/3.6.1/css/uswds.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uswds/3.6.1/js/uswds-init.min.js"></script>
    <style>
        :root {
          /* Primary color overrides */
          --primary-lightest: #daf0c5;
          --primary-lighter: #c0ddb7;
          --primary-light: #a5caa9;
          --primary: #8bb69b;
          --primary-vivid: #71a18d;
          --primary-dark: #578b7d;
          --primary-darker: #3c726c;
          --primary-darkest: #1e5959;

          /* Secondary color overrides */
          --secondary-lightest: #0b2b40;
          --secondary-lighter: #324e62;
          --secondary-light: #526d7f;
          --secondary: #6f8a9a;
          --secondary-vivid: #8ca5b4;
          --secondary-dark: #a7bfcb;
          --secondary-darker: #c1d8e3;
          --secondary-darkest: #dbf0f9;
        }

        /* Background color overrides */
        .bg-primary-lightest { background-color: var(--primary-lightest); }
        .bg-primary-lighter { background-color: var(--primary-lighter); }
        .bg-primary-light { background-color: var(--primary-light); }
        .bg-primary { background-color: var(--primary); }
        .bg-primary-vivid { background-color: var(--primary-vivid); }
        .bg-primary-dark { background-color: var(--primary-dark); }
        .bg-primary-darker { background-color: var(--primary-darker); }
        .bg-primary-darkest { background-color: var(--primary-darkest); }

        .bg-secondary-lightest { background-color: var(--secondary-lightest); }
        .bg-secondary-lighter { background-color: var(--secondary-lighter); }
        .bg-secondary-light { background-color: var(--secondary-light); }
        .bg-secondary { background-color: var(--secondary); }
        .bg-secondary-vivid { background-color: var(--secondary-vivid); }
        .bg-secondary-dark { background-color: var(--secondary-dark); }
        .bg-secondary-darker { background-color: var(--secondary-darker); }
        .bg-secondary-darkest { background-color: var(--secondary-darkest); }

        /* Text color overrides */
        .text-primary-lightest { color: var(--primary-lightest); }
        .text-primary-lighter { color: var(--primary-lighter); }
        .text-primary-light { color: var(--primary-light); }
        .text-primary { color: var(--primary); }
        .text-primary-vivid { color: var(--primary-vivid); }
        .text-primary-dark { color: var(--primary-dark); }
        .text-primary-darker { color: var(--primary-darker); }
        .text-primary-darkest { color: var(--primary-darkest); }

        .text-secondary-lightest { color: var(--secondary-lightest); }
        .text-secondary-lighter { color: var(--secondary-lighter); }
        .text-secondary-light { color: var(--secondary-light); }
        .text-secondary { color: var(--secondary); }
        .text-secondary-vivid { color: var(--secondary-vivid); }
        .text-secondary-dark { color: var(--secondary-dark); }
        .text-secondary-darker { color: var(--secondary-darker); }
        .text-secondary-darkest { color: var(--secondary-darkest); }

        .usa-step-indicator__segment::after {background-color: var(--primary-light);}
        .usa-step-indicator__segment--complete .usa-step-indicator__segment-label {color: var(--primary-light)}
        .usa-step-indicator__segment--complete::after {background-color: var(--primary-darkest);}
        .usa-step-indicator__segment--complete .usa-step-indicator__segment-label {color: var(--primary-darkest)}
        .usa-step-indicator__segment--current::after {background-color: var(--primary-dark);}
        .usa-step-indicator__segment--current .usa-step-indicator__segment-label {color: var(--primary-dark)}

        .hidden {
            display: none !important;
        }
        .custom-task {
            margin-top: 10px;
        }
        .step-content {
            display: flex;
            justify-content: space-between;
        }
        .step-description {
            flex: 1;
            padding-right: 20px;
        }
        .task-list {
            flex: 1;
        }
        .hidden {display:none;}
        .task-list .usa-button, div#buttonGroup, #start-page .usa-button {margin-top: 16px;}
        .step-description p {margin-top: 0;}
        
        /* Timeline styles */
        .timeline-container {
            overflow-x: auto;
        }
        .timeline {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }
        .timeline-header {
            display: contents;
        }
        .timeline-task {
            display: contents;
        }
        .timeline-task > * {
            padding: 5px;
            border-bottom: 1px solid #ddd;
        }
        .timeline-bar {
            background-color: var(--primary-darker);
            height: 20px;
            margin-top: 5px;
        }
        .date-input-group {display:flex;align-items: center;}
        .date-input-group > div {flex:1; padding: 0 16px 0 0;}
        .date-input-group > h4 {flex: 2;}

    </style>
</head>
<body>
    <header class="usa-header usa-header--basic bg-primary">
        <div class="usa-nav-container">
            <div class="usa-navbar">
                <div class="usa-logo" id="basic-logo">
                    <em class="usa-logo__text">Design Process Wizard</em>
                </div>
            </div>
        </div>
    </header>
    <main class="usa-section">
        <div class="grid-container">
            <div id="wizard" class="usa-prose">
                <div class="usa-step-indicator" aria-label="progress" id="step-indicator">
                    <ol class="usa-step-indicator__segments">
                        <!-- Step indicators will be dynamically generated -->
                    </ol>
                </div>

                <div id="start-page" class="step" data-step="0">
                    <h2>Welcome to the Design Process Wizard</h2>
                    <p>This wizard will guide you through the design process, allowing you to select activities and deliverables for each phase.</p>
                    <label for="initiative">Initiative Name:</label>
                    <input type="text" id="initiative" name="initiative" class="usa-input" required>
                    <button class="usa-button" onclick="startWizard()">Begin</button>
                </div>

                <!-- Steps will be dynamically generated here -->


                <div id="summary-page" class="step hidden bg-primary-lighter padding-2" data-step="summary">
                    <h2>Summary</h2>
                    <h3 id="initiative-title"></h3>
                    <div id="summary"></div>
                    <button id="createTimelineBtn" class="usa-button" onclick="showTimelineInput()">Create Timeline</button>
                    <button id="downloadBtn" class="usa-button hidden" onclick="exportToCSV()">Export to CSV</button>
                </div>

                <div id="timeline-input" class="hidden" data-step="timeline-input">
                    <h2>Timeline Input</h2>
                    <div id="timeline-tasks"></div>
                    <button class="usa-button" onclick="generateTimeline()">Generate Timeline</button>
                </div>

                <div id="timeline-view" class="hidden bg-primary-lighter padding-2" data-step="timeline-view">
                    <h2>Timeline View</h2>
                    <div class="timeline-container">
                        <div id="timeline" class="timeline"></div>
                    </div>
                    <button class="usa-button" onclick="exportTimelineToCSV()">Export Timeline to CSV</button> 
                    <!-- <button class="usa-button usa-button-outline" onclick="restartWizard()">Start Over</button> -->
                </div>
            </div>
            <div id="stakeholder-info" class="hidden usa-prose"><div>
                    <h2>Stakeholder Review Process</h2>
                    <p>Stakeholder review should start with the immediate project team and broaden as the team gets additional clarity on the work to be done. This approach ensures that feedback is gathered efficiently and effectively throughout the design process.</p>
                    <a target="_blank" href="https://docs.google.com/spreadsheets/d/16JssdkiBQRmE59EDklI_RoqdQvgdRGNlunrtfieMwR4/edit?gid=0#gid=0">See the Who's Who on FAMLI</a>
                    <img src="./review-ecosystem.png">
                    <p>Key stakeholders may include:</p>
                    <ul>
                        <li>Immediate project team members</li>
                        <li>Design leads and managers</li>
                        <li>Product managers</li>
                        <li>Marketing managers</li>
                        <li>Compliance specialists</li>
                        <li>End-users or customer representatives</li>
                    </ul>
                    <p>As the project progresses, involve broader stakeholder groups to ensure comprehensive feedback and buy-in.</p>
                    <button class="usa-button" onclick="hideStakeholderInfo()">Back</button>
                </div></div>
            <div class="usa-button-group" id="buttonGroup">
                <button id="prevBtn" class="usa-button usa-button--outline" onclick="navigate(-1)">Previous</button>
                <button id="nextBtn" class="usa-button" onclick="navigate(1)">Next</button>
            </div>
        </div>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/uswds/3.6.1/js/uswds.min.js"></script>
    <script src="./wizard2.js"></script>
    <script>
      console.log("wizard2.js loaded successfully");
    </script>
</body>
</html>

